# ====================================
# E-Voting Platform - Environment Variables
# ====================================

# ----------------
# Supabase
# ----------------
# Récupérer sur : https://supabase.com/dashboard/project/_/settings/api

# URL du projet Supabase (public)
NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co

# Clé publique Supabase (public)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx

# Clé de service Supabase (secret - JAMAIS exposer côté client)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx


# ----------------
# Encryption
# ----------------
# Clé de chiffrement AES-256 pour les votes secrets
# IMPORTANT : 64 caractères hexadécimaux (32 bytes)
# Générer avec : node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ⚠️ CRITIQUE : Sauvegardez cette clé en sécurité. Si perdue, les votes ne pourront plus être déchiffrés.

ENCRYPTION_KEY=a1b2c3d4e5f6789...


# ----------------
# Email (Resend)
# ----------------
# Récupérer sur : https://resend.com/api-keys

# Clé API Resend
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email expéditeur (doit correspondre à un domaine vérifié dans Resend)
EMAIL_FROM=noreply@votredomain.com


# ----------------
# Site URL
# ----------------
# URL publique de votre application

# Développement
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# Production (après déploiement Vercel)
# NEXT_PUBLIC_SITE_URL=https://votre-app.vercel.app


# ----------------
# Upstash Redis (Optionnel mais recommandé)
# ----------------
# Pour le rate limiting
# Gratuit : https://upstash.com
# Si non configuré, le rate limiting sera désactivé

# URL REST de votre base Redis Upstash
UPSTASH_REDIS_REST_URL=https://xxx-xxx-xxx.upstash.io

# Token d'authentification
UPSTASH_REDIS_REST_TOKEN=AXXXXXXXXXXXXXXXxx==


# ----------------
# Stripe (Optionnel - Non implémenté)
# ----------------
# Pour les abonnements payants (fonctionnalité future)

# STRIPE_SECRET_KEY=sk_test_xxx
# STRIPE_PUBLISHABLE_KEY=pk_test_xxx
# STRIPE_WEBHOOK_SECRET=whsec_xxx


# ====================================
# Instructions de Configuration
# ====================================

# 1. Dupliquer ce fichier en .env.local
#    cp .env.example .env.local

# 2. Remplir toutes les valeurs requises ci-dessus

# 3. Générer la clé de chiffrement :
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# 4. Configurer Supabase :
#    - Créer un projet sur supabase.com
#    - Déployer les migrations (voir DEPLOIEMENT_MIGRATIONS.md)
#    - Récupérer les clés dans Settings > API

# 5. Configurer Resend :
#    - Créer un compte sur resend.com
#    - Ajouter et vérifier votre domaine
#    - Créer une clé API

# 6. (Optionnel) Configurer Upstash Redis :
#    - Créer un compte sur upstash.com
#    - Créer une base Redis
#    - Récupérer les credentials REST API

# 7. Démarrer le serveur :
#    npm run dev

# ====================================
# Déploiement Production (Vercel)
# ====================================

# Toutes ces variables doivent être configurées dans :
# Vercel Dashboard > Votre Projet > Settings > Environment Variables

# Variables à ajouter en "Production" :
# - NEXT_PUBLIC_SUPABASE_URL
# - NEXT_PUBLIC_SUPABASE_ANON_KEY
# - SUPABASE_SERVICE_ROLE_KEY
# - ENCRYPTION_KEY
# - RESEND_API_KEY
# - EMAIL_FROM
# - NEXT_PUBLIC_SITE_URL
# - UPSTASH_REDIS_REST_URL (optionnel)
# - UPSTASH_REDIS_REST_TOKEN (optionnel)

# ⚠️ Ne JAMAIS commit .env.local dans Git
# ⚠️ Sauvegarder ENCRYPTION_KEY en lieu sûr

# Pour plus de détails : voir DEPLOIEMENT_VERCEL.md
